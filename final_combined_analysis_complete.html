<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Seattle 911 Temporal-Spatial Analysis</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; background: #f7f9fb; color: #333; }
    h1, h2, h3 { color: #1a4e8a; }
    iframe { width: 100%; height: 500px; border: 1px solid #ccc; margin-top: 10px; margin-bottom: 30px; }
    img { max-width: 100%; height: auto; margin-bottom: 20px; }
    section { margin-bottom: 60px; }
    pre { background: #f0f0f0; padding: 10px; overflow-x: auto; }
  </style>
</head>
<body>

  <h1>Seattle 911 Call Analysis</h1>

  <section>
    <h2>Objective</h2>
    <p>
      The goal of this project is to analyze and cluster 911 calls from the Seattle Police Department across space and time.
      We aim to identify meaningful spatial clusters based on call types and priority, explore temporal patterns across time-of-day bins,
      and visualize these patterns interactively. This analysis supports resource optimization and urban planning decisions.
    </p>
  </section>

  <section>
    <h2>Dataset Description</h2>
    <p>
      The dataset consists of 911 call records from the Seattle Police Department, including call types, priorities, locations,
      timestamps, and supplemental weather data. We used the following columns:
      <ul>
        <li><code>CAD Event Number</code>, <code>Initial Call Type</code>, <code>Priority</code>, <code>Dispatch Neighborhood</code></li>
        <li><code>CAD Event Original Time Queued</code>, <code>Dispatch Latitude/Longitude</code></li>
        <li>Merged NOAA historical weather columns: <code>tavg</code>, <code>prcp</code>, <code>wspd</code>, etc.</li>
      </ul>
    </p>
  </section>

  <section>
    <h2>Preprocessing</h2>
    <p>
      Several preprocessing steps were performed:
      <ul>
        <li>Merged historical weather data using the event date</li>
        <li>Cleaned missing priority and time values</li>
        <li>Extracted and binned time-of-day values into six bins: Late Night, Early Morning, Morning, Afternoon, Evening, Night</li>
        <li>Spatial enrichment was done by joining 911 calls to official Seattle neighborhood GeoJSON boundaries</li>
      </ul>
    </p>
  </section>

  <section>
    <h2>KMeans Clustering</h2>
    <p>
      KMeans was used to group neighborhoods based on call frequency and average priority. Silhouette analysis was conducted
      to determine the optimal number of clusters.
    </p>
    <h3>Silhouette Plot</h3>
    <img src="output/kmeans_silhouette_plot.png" alt="KMeans Silhouette Plot">

    <h3>Cluster Distribution</h3>
    <img src="output/kmeans_cluster_distribution.png" alt="KMeans Cluster Distribution">

    <h3>Interactive Map</h3>
    <iframe src="output/kmeans_cluster_map.html"></iframe>
  </section>

  <section>
    <h2>PCA + KMeans Clustering</h2>
    <p>
      PCA was used to reduce dimensionality before applying KMeans. This helped identify structure that may be masked in
      higher-dimensional space.
    </p>
    <h3>Silhouette Plot</h3>
    <img src="output/pca_kmeans_silhouette_plot.png" alt="PCA KMeans Silhouette Plot">

    <h3>Cluster Map</h3>
    <iframe src="output/pca_kmeans_cluster_map.html"></iframe>
  </section>

  <section>
    <h2>HDBSCAN Clustering</h2>
    <p>
      HDBSCAN, a density-based method, was used to identify non-uniform spatial clusters. This method handles noise and
      irregular cluster shapes better than KMeans.
    </p>
    <h3>Cluster Map</h3>
    <iframe src="output/hdbscan_cluster_map.html"></iframe>
  </section>

  <section>
    <h2>GMM + BIC Clustering</h2>
    <p>
      Gaussian Mixture Models were used with Bayesian Information Criterion (BIC) to determine the number of clusters.
      This probabilistic clustering helps capture uncertainty in neighborhood groupings.
    </p>
    <h3>BIC Plot</h3>
    <img src="output/gmm_bic_plot.png" alt="GMM BIC Plot">

    <h3>Cluster Map</h3>
    <iframe src="output/gmm_bic_cluster_map.html"></iframe>
  </section>

  <section>
    <h2>Temporal Analysis</h2>
    <p>
      911 calls were grouped into time-of-day bins to explore patterns in volume and type. These bins were used
      for time-aware clustering to observe if cluster behavior shifts over the day.
    </p>

    <h3>Call Volume by Time Bin</h3>
    <img src="output/temporal_analysis/call_volume_by_time.png" alt="Call Volume by Time">

    <h3>Top Call Types by Time Bin</h3>
    <img src="output/temporal_analysis/call_type_by_time.png" alt="Top Call Types by Time Bin">

    <h3>Time Bin Clustering Summary</h3>
    <img src="output/temporal_analysis/cluster_distribution_summary.png" alt="Cluster Distribution Summary">

    <h3>Time Bin Map (KMeans per Bin)</h3>
    <iframe src="output/time_bin_clustering/time_bin_cluster_map.html"></iframe>
  </section>

  <footer>
    <p style="margin-top: 60px; color: #999;">Created as part of Seattle 911 Spatial-Temporal Clustering Analysis</p>
  </footer>

</body>
</html>
